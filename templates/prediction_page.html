{% extends "base.html" %}
{% block content %}

<div class="container">
    <h2 style="text-align: center;">Upload Image for Prediction</h2>
    <form method="POST" enctype="multipart/form-data" class="prediction-form">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" name="name" id="name" required>
        </div>

        <div class="form-group">
            <label for="age">Age</label>
            <input type="number" name="age" id="age" required>
        </div>

        <div class="form-group">
            <label for="family_history">Family History</label>
            <select name="family_history" id="family_history" required>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </div>

        <div class="form-group">
            <label for="image">Medical Image</label>
            <input type="file" name="image" id="image" required>
        </div>

        <button type="submit" class="btn btn-primary">Predict</button>
    </form>

    {% if result %}
        <h3 style="text-align: center; margin-top: 20px;">Prediction: {{ result }}</h3>
        <div style="text-align: center;">
            <img src="{{ url_for('static', filename='uploads/' + image_name) }}" alt="Uploaded Image" style="max-width: 300px; margin-top: 10px;">
        </div>
    {% endif %}

    <div style="text-align: center; margin-top: 30px;">
        <a href="{{ url_for('past_predictions') }}">
            <button class="btn btn-secondary">View Past Predictions</button>
        </a>
    </div>
</div>

{% endblock %}
